# ADR 007 - Sistema de roles simplificado (Estudiante, Profesional, Institución)

**Fecha**: 2025-10-14  
**Estado**: Aceptado  
**Autores**: A. Administrador, D. Cliente

## Contexto y Problema a Resolver

El sistema Curse Fast tiene diferentes tipos de usuarios con necesidades distintas:

1. Estudiantes: Consultan recursos para complementar su formación académica  
2. Profesionales: Buscan materiales para actualizar conocimientos y habilidades  
3. Instituciones Educativas: Consultan el catálogo para recomendar recursos a sus estudiantes  

Se requiere un sistema de control de acceso que:

- Identifique el tipo de usuario  
- Controle quién puede agregar nuevos recursos  
- Sea simple de implementar y entender  
- Escale fácilmente si se añaden más roles  

**Alternativas consideradas**:

- Sin roles (acceso libre)  
- Solo 2 roles (Usuario/Admin)  
- Sistema complejo de permisos  
- Roles simples (3 tipos)  

## Decisión Tomada

Se implementa un **sistema de control de acceso basado en roles (RBAC)** con tres roles principales: Estudiante, Profesional e Institución Educativa.

## Consecuencias

### Positivas

- Simplicidad de implementación (columna ENUM, middleware simple)  
- Comprensión intuitiva por parte del equipo  
- Control de calidad del catálogo (solo instituciones pueden agregar)  
- Diferenciación de experiencia de usuario  
- Auditoría básica por institución  
- Escalabilidad futura para nuevos roles  
- Principio de menor privilegio aplicado  

### Negativas o Riesgos

- Validación manual de instituciones educativas  
- Rigidez en permisos (sin granularidad)  
- Proceso de cambio de rol no definido  
- Auto-clasificación incorrecta en el registro  
- Colaboración limitada por parte de estudiantes/profesionales  
- Complejidad adicional en el frontend para ocultar/mostrar funcionalidades  
